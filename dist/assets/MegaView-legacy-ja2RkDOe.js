System.register(["./index-legacy-DTqs_8IE.js"],(function(t,e){"use strict";var a,n,o,l,r,i,c,s,d,u,g,h,f,p,m,v,b,y,k,I,w,x,S,_,C,q;return{setters:[t=>{a=t.d,n=t.I,o=t.a,l=t.b,r=t.c,i=t.e,c=t.f,s=t.g,d=t.h,u=t.i,g=t._,h=t.r,f=t.o,p=t.j,m=t.w,v=t.k,b=t.l,y=t.t,k=t.n,I=t.m,w=t.p,x=t.F,S=t.q,_=t.v,C=t.s,q=t.u}],execute:function(){var e=document.createElement("style");e.textContent="@keyframes lightning-aa8c6fc1{0%{background-color:transparent}50%{background-color:#ff0}to{background-color:transparent}}.highlighted[data-v-aa8c6fc1]{animation:lightning-aa8c6fc1 1s infinite}table[data-v-aa8c6fc1]{width:80%;margin-left:5%;margin-right:1%;border-collapse:collapse;border-radius:15px;overflow:hidden}th[data-v-aa8c6fc1],td[data-v-aa8c6fc1]{padding:1em;background:#ddd;border-bottom:2px solid white}.css-mine[data-v-aa8c6fc1]{margin-top:2em;clear:both}body[data-v-aa8c6fc1]{margin:1.5em}#container[data-v-aa8c6fc1]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-aa8c6fc1]{font-size:20px;line-height:26px}#container p[data-v-aa8c6fc1]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-aa8c6fc1]{text-decoration:none}\n",document.head.appendChild(e);const A=a({components:{IonButtons:n,IonSelect:o,IonSelectOption:l,IonContent:r,IonHeader:i,IonMenuButton:c,IonPage:s,IonTitle:d,IonToolbar:u},data:()=>({isFullscreen:!1,workerBinding:{1:"333",2:"3332",3:"3333",4:"3334",5:"3335",6:"3336"},queueData:[{id:1,worker:5,room:"365A"}]}),mounted(){setInterval((()=>{this.$axios.get(localStorage.getItem("APIServer_InstanceAddress")+"/queue/get",{params:{id:this.workspaceSetting_WorkerID}}).then((t=>{console.log(t.data.data);var e=[];Object.entries(t.data.data).forEach((([t,a])=>{const n={id:parseInt(t)+1,worker:parseInt(a.assignedWorker),room:"",status:a.serviceState};"Calling"!=a.serviceState&&"Queued"!=a.serviceState||e.push(n)})),e.sort(((t,e)=>"Calling"===t.status&&"Calling"===e.status?t.id-e.id:"Calling"===t.status?-1:"Calling"===e.status?1:t.id-e.id)),console.log(e),this.queueData=e})).catch((t=>{console.error(t)}))}),2500),setInterval((()=>{this.check()}),3e3)},methods:{check(){window.screenTop||window.screenY?this.isFullscreen||(document.querySelectorAll("ion-menu").forEach((function(t){t.style.display="none"})),document.querySelectorAll("ion-toolbar").forEach((function(t){t.style.display="none"}))):this.isFullscreen&&(document.querySelectorAll("ion-menu").forEach((function(t){t.style.display="flex"})),document.querySelectorAll("ion-toolbar").forEach((function(t){t.style.display="block"})))}}}),E=t=>(C("data-v-aa8c6fc1"),t=t(),q(),t),D={class:"data"},z=E((()=>k("tr",null,[k("th",null,"Посетитель"),k("th",null,"Оператор"),k("th",null,"Аудитория")],-1))),B={key:0,id:"container"},F=[E((()=>k("strong",{class:"capitalize"},"Очередь пуста",-1))),E((()=>k("p",null,"Сейчас в очереди никого нет",-1)))];t("default",g(A,[["render",function(t,e,a,n,o,l){const r=h("ion-menu-button"),i=h("ion-buttons"),c=h("ion-title"),s=h("ion-toolbar"),d=h("ion-header"),u=h("ion-content"),g=h("ion-page");return f(),p(g,null,{default:m((()=>[v(s,null,{default:m((()=>[v(i,{slot:"start"},{default:m((()=>[v(r,{color:"primary"})])),_:1}),v(c,null,{default:m((()=>[b(y(t.$route.params.id),1)])),_:1})])),_:1}),v(u,{fullscreen:!0},{default:m((()=>[v(d,{collapse:"condense"},{default:m((()=>[v(s,null,{default:m((()=>[v(c,{size:"large"},{default:m((()=>[b(y(t.$route.params.id),1)])),_:1})])),_:1})])),_:1}),k("div",null,[k("table",D,[z,(f(!0),I(x,null,w(t.queueData,(e=>(f(),I("tr",{class:_({highlighted:"Calling"===e.status}),style:{"text-align":"center"}},[k("td",{class:_({highlighted:"Calling"===e.status})},y(e.id),3),k("td",{class:_({highlighted:"Calling"===e.status})},y(e.worker),3),k("td",{class:_({highlighted:"Calling"===e.status})},y(t.workerBinding[e.worker]),3)],2)))),256))])]),t.queueData.length<1?(f(),I("div",B,F)):S("",!0)])),_:1})])),_:1})}],["__scopeId","data-v-aa8c6fc1"]]))}}}));
